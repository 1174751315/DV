<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <!--<script src="../d3/end.js"></script>-->

</head>
<body>
<!--<table>-->
    <!--<tr>adsf</tr>-->
    <!--<td>asdfsad</td>-->
<!--</table>-->
<style>
    .x-axis{
        transform: translate(0,900);
    }
    .y-axis{
        transform: rotate(-90deg);
        text-anchor: end;
    }
</style>
<script src="http://d3js.org/d3.v3.js"></script>
<script type="text/javascript">


    var timeLabels=["0:00:00","0:15:00","0:30:00","0:45:00","1:00:00","1:15:00","1:30:00","1:45:00","2:00:00","2:15:00","2:30:00","2:45:00","3:00:00","3:15:00","3:30:00","3:45:00","4:00:00","4:15:00","4:30:00","4:45:00","5:00:00","5:15:00","5:30:00","5:45:00","6:00:00","6:15:00","6:30:00","6:45:00","7:00:00","7:15:00","7:30:00","7:45:00","8:00:00","8:15:00","8:30:00","8:45:00","9:00:00","9:15:00","9:30:00","9:45:00","10:00:00","10:15:00","10:30:00","10:45:00","11:00:00","11:15:00","11:30:00","11:45:00","12:00:00","12:15:00","12:30:00","12:45:00","13:00:00","13:15:00","13:30:00","13:45:00","14:00:00","14:15:00","14:30:00","14:45:00","15:00:00","15:15:00","15:30:00","15:45:00","16:00:00","16:15:00","16:30:00","16:45:00","17:00:00","17:15:00","17:30:00","17:45:00","18:00:00","18:15:00","18:30:00","18:45:00","19:00:00","19:15:00","19:30:00","19:45:00","20:00:00","20:15:00","20:30:00","20:45:00","21:00:00","21:15:00","21:30:00","21:45:00","22:00:00","22:15:00","22:30:00","22:45:00","23:00:00","23:15:00","23:30:00","23:45:00"];
    var loads=[];
    data=d3.csv(
            "../lp/load-curve-trans.tsv",
            function(d){
                for(var i=0;i<7;i++){
                    var load=[];
                    for(var j=0;j<96;j++){
                        load[j]=d[i][timeLabels[j]];
                    }
                    loads[i]=load;
                }

                var svg=d3.select("body")
                        .append("svg")
                        .attr("width",1600)
                        .attr("height",900)
                        .attr("backgorund-color","#00FF00");


                var max=(13000);
                var min=(7000);


                var xScale=d3.scale.linear().range([10,1600]).domain([0,96]);
                var yScale=d3.scale.linear().range([900,0]).domain([min,max]);
                var xAxis=d3.svg.axis().scale(xScale).orient("bottom");
                var yAxis=d3.svg.axis().scale(yScale).orient("right");
//                var line=d3.svg.line()
//                        .x(function(d){
//                            return xScale(d);
//                        })
//                        .y(function(d){
//                            return yScale(d);
//                        });


                svg.append("g")
                        .attr("class","x-axis")
                        .call(xAxis);
                svg.append("g")
                        .attr("class", "y-axis")
                        .call(yAxis)
                        ;

             //                svg.append("path")
//                        .data(loads)
//                        .attr("class","line")
//                        .attr("d",line);

                for(var i=0;i<7;i++){
                    svg.selectAll("circle")
                            .data(loads[i])
                            .enter()
                            .append("circle")
                            .attr("cx",function(d,i){
                                return xScale(i);
                            })
                            .attr("cy",function(d){
                                return yScale(d);
                            })
                            .attr("r",5)
                            .on("mouseover",function(e){
                                d3.select("#tooltip").attr("class","div-show");
                                d3.select("#tooltip").attr("style","top:20px;left:20px;");
//                                this.attr("cx")
                            })
                            .on("mouseout",function(e){
                                d3.select("#tooltip").attr("class","div-hidden");
                            });

                }


//                for(var i=0;i<7;i++){
//                    console.log("Data "+ i);
//                    for(var j=0;j<96;j++){
//                        console.log(loads[i][timeLabels[j]]);
//                    }
//                }
            }

    );

    //        d3.select("body").append("table");
    //        d3.select("body").select("table").data(loads,function(d){return d;});


</script>

<div id="tooltip" style="background-color: blueviolet;visibility: hidden;position: absolute;width: 16px;height: 9px;top: 0px;left: 0px;"  class="div-hidden">
    Hey man!
</div>
<style>
    .div-hidden{
        display: none;
    }
    .div-show{
        display: block;
        z-index: 0;
    }
</style>
</body>
</html>